<!DOCTYPE html>
<html>
<head>
    <title>Live Website Viewer</title>
    <script>
        // URL से फोल्डर ID निकालें
        const urlParams = new URLSearchParams(window.location.search);
        const folderId = urlParams.get('folder');
        
        // HTML फ़ाइल को लोड और रेंडर करने का फंक्शन
        async function loadWebsite() {
            try {
                // 1. पहले फोल्डर से index.html ढूंढें
                const fileListResponse = await fetch(
                    `https://drive.google.com/embeddedfolderview?id=${folderId}`
                );
                const fileListHtml = await fileListResponse.text();
                
                // 2. index.html का लिंक पार्स करें
                const parser = new DOMParser();
                const doc = parser.parseFromString(fileListHtml, 'text/html');
                const indexLink = Array.from(doc.querySelectorAll('a[href*="index.html"]'))[0]?.href;
                
                if (!indexLink) throw new Error("index.html फ़ाइल नहीं मिली");
                
                // 3. HTML कंटेंट लोड करें
                const htmlResponse = await fetch(indexLink);
                const htmlContent = await htmlResponse.text();
                
                // 4. पेज में इंजेक्ट करें
                document.open();
                document.write(htmlContent);
                document.close();
                
            } catch (error) {
                document.body.innerHTML = `
                    <div style="padding:20px;color:red;">
                        <h2>त्रुटि: ${error.message}</h2>
                        <p>सुनिश्चित करें कि:</p>
                        <ul>
                            <li>फोल्डर में index.html फ़ाइल मौजूद है</li>
                            <li>फोल्डर की शेयरिंग सेटिंग "Anyone with the link" पर है</li>
                        </ul>
                    </div>
                `;
            }
        }
        
        // पेज लोड होते ही चलाएं
        window.onload = loadWebsite;
    </script>
</head>
<body>
    <!-- यहाँ HTML कंटेंट लोड होगा -->
    <div style="text-align:center;padding:50px;">
        <h3>लोड हो रहा है...</h3>
    </div>
</body>
</html>
